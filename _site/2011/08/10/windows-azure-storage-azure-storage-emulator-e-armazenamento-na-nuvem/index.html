<!DOCTYPE html>
<html>

  ﻿<head>
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-90757610-1', 'auto');
    ga('send', 'pageview');
  </script>

  <script type="text/javascript">
  var appInsights=window.appInsights||function(config){
    function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s="AuthenticatedUserContext",h="start",c="stop",l="Track",a=l+"Event",v=l+"Page",y=u.createElement(o),r,f;y.src=config.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version="1.0",r=["Event","Exception","Metric","PageView","Trace","Dependency"];r.length;)i("track"+r.pop());return i("set"+s),i("clear"+s),i(h+a),i(c+a),i(h+v),i(c+v),i("flush"),config.disableExceptionTracking||(r="onerror",i("_"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t["_"+r](config,i,u,e,o),s}),t
    }({
        instrumentationKey:"d4823b90-66dc-43d1-84c6-7da8a3796ebd"
    });
    window.appInsights=appInsights;
    appInsights.trackPageView();
</script>

  <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Vitor Meriat</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Vitor Meriat" />
	<meta name="keywords" content="cloud computing, machine learning, big data, iot, developer, data scientist" />
	<meta name="author" content="Vitor Meriat" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="/assets/favicon.ico">

	<!-- Google Webfont -->
	<link href='https://fonts.googleapis.com/css?family=PT+Mono' rel='stylesheet' type='text/css'>
	<!-- Themify Icons -->
	<link rel="stylesheet" href="/assets/css/themify-icons.css">
	<!-- Icomoon Icons -->
	<link rel="stylesheet" href="/assets/css/icomoon-icons.css">
	<!-- Bootstrap -->
	<link rel="stylesheet" href="/assets/css/bootstrap.css">
	<!-- Owl Carousel -->
	<link rel="stylesheet" href="/assets/css/owl.carousel.min.css">
	<link rel="stylesheet" href="/assets/css/owl.theme.default.min.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="/assets/css/magnific-popup.css">
	<!-- Easy Responsive Tabs -->
	<link rel="stylesheet" href="/assets/css/easy-responsive-tabs.css">
	<!-- Theme Style -->
	<link rel="stylesheet" href="/assets/css/style.css?v1">

	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
	<link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/obsidian.css">

	<script>hljs.initHighlightingOnLoad();</script>

	<!-- FOR IE9 below -->
	<!--[if lte IE 9]>
	<script src="js/modernizr-2.6.2.min.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
</head>


  <body>
    <!-- Header -->
	<header id="fh5co-header" role="banner">
		<div class="container">
      <div id="fh5co-logo">
				<a href="/">
					<img src="/assets/images/logo-d.png" alt="Work Logo">
				</a>
			</div>
      <div style="text-align: center;">
        <a href="/"><h2 style="margin-top: 0px !important;">Vitor Meriat</h2></a>
        <span style="font-size: 1em; color: black;">MVP Azure - Cloud Architect - Data science enthusiast</span>
      </div>
			<!-- Mobile Toggle Menu Button -->
			<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>

			<!-- Main Nav -->
			<div id="fh5co-main-nav">
				<nav id="fh5co-nav" role="navigation">
					<ul>
						<li class="">
							<a href="/">Blog</a>
						</li>
						<li class="">
							<a href="/archive/">Archives</a>
						</li>
            <li class="">
							<a href="/category/">Categories</a>
						</li>
            <li class="">
							<a href="/about/"> About me </a>
						</li>
					</ul>
					<!-- <a href="http://www.vitormeriat.com.br/" target="_blank" class="fh5co-nav-call-to-action js-fh5co-nav-call-to-action">Blog</a> -->
          <!-- <a href="/about/" class="">About me</a> -->
				</nav>
			</div>
			<!-- Main Nav -->
		</div>
	</header>
	<!-- Header -->
    <main role="main">
      <div class="container">
  <article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="row">
      <div class="fh5co-spacer fh5co-spacer-sm"></div>
      <div class="col-md-12 text-center">
        <h1>Windows Azure Storage: Azure Storage Emulator e Armazenamento na Nuvem</h1>
        
      </div>
      
        <h2 class="fh5co-uppercase-heading-sm text-center">
          Cloud Computing &amp; Microsoft Azure &amp; Microsoft Azure Storage
        </h2>
      
      <span><time datetime="2011-08-10T00:00:00-03:00" itemprop="datePublished">Aug 10, 2011</time></span>
    </div>
    <div class="fh5co-spacer fh5co-spacer-md"></div>
    <section class="section-padding post" itemprop="articleBody">
      <p align="justify"><a href="http://blob.vitormeriat.com.br/images/2011/08/06.png"><img style="background-image:none;padding-left:0;padding-right:0;display:inline;float:left;padding-top:0;border-width:0;margin:0 10px 0 0;" title="06" alt="06" align="left" src="http://blob.vitormeriat.com.br/images/2011/08/06.png" width="310" height="218" /></a>
<p align="justify">Uma das vantagens de uma oferta SaaS é poder oferecer uma baixa curva de aprendizagem para o desenvolvimento de aplicações. Como já vimos anteriormente, o Windows Azure no modelo software como serviço traz aos desenvolvedores esta facilidade. Toda a estrutura de um projeto Azure mantém familiaridade a um projeto Web comum, seja WebForm ou MVC por meio de seus papeis.
<p align="justify">Para acessarmos nossa conta de armazenamento no Windows Azure, assim como necessário para qualquer aplicação web, devemos fornecer as credenciais para tal fim. É comum encontrarmos em ambientes de desenvolvimento com bases de produção e homologação, e é ai que se inicia a brincadeira.
<p align="justify">É na string de conexão que informamos os parâmetros que são necessários para acessar a conta de armazenamento. Você pode configurar a string de conexão para as seguintes finalidades:
<ul>
<ul>
<li>
<div align="justify">Conectar o Windows Azure Storage Emulator para testes locais.</div>
</li>
<li>
<div align="justify">Conectar a uma conta de armazenamento no Windows Azure usando os terminais (endpoints) padrão.</div>
</li>
<li>
<div align="justify">Conectar a uma conta de armazenamento no Windows Azure usando terminais (endpoints) explícitos.</div>
</li>
</ul>
</ul>
<p><!--more-->
<p align="justify">Assim como em uma aplicação Web, podemos por meio das definições de configuração fornecer uma ou mais strings de conexão. Isso nos possibilita a conforme a necessidade apontar para uma conta diferente. </p>
<p align="justify">&nbsp;</p>
<h3 align="justify">Armazenamento no Azure Storage Emulator</h3>
<p align="justify">A plataforma Azure fornece um ambiente de desenvolvimento por meio do <b>Windows</b> <b>Azure storage emulator</b> que funciona como uma “nuvem local” para os serviços de armazenamento (blobs, queues, tables) para que você possa construir e testar suas aplicações antes da implantação no Windows Azure. Esta conta local possui um nome e chave comuns a todos os usuários o que nos possibilita o uso de uma sequência de “atalho” que faz referência a conta de armazenamento, a saber: <b>UseDevelopmentStorage=true</b>. Esta conta e chave comuns só permitem o acesso aos serviços locais de armazenamento. A título de informação:
<ul>
<ul>
<li>
<div align="justify"><b>AccountName</b>: devstoreaccount1</div>
</li>
<li>
<div align="justify"><b>AccountKey</b>: Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1 SZFPTOtr/KBHBek soGMGw==</div>
</li>
</ul>
</ul>
<p align="justify"><font color="#777777"></font>Observe o código abaixo: </p>
<p align="justify"><a href="http://blob.vitormeriat.com.br/images/2011/08/01.png"><img style="background-image:none;padding-left:0;padding-right:0;display:block;float:none;margin-left:auto;margin-right:auto;padding-top:0;border-width:0;" title="01" alt="01" src="http://blob.vitormeriat.com.br/images/2011/08/01.png" width="570" height="229" /></a>
<p align="justify">Quando estamos desenvolvendo no ambiente de desenvolvimento temos acesso as credenciais da conta de armazenamento local por meio da propriedade DevelopmentStorageAccount da classe CloudStorageAccount que obtém um objeto do mesmo tipo que referência a conta de armazenamento de desenvolvimento.
<p align="justify">Seguindo a lógica citada anteriormente, podemos fornecer o nome e chave de acesso a nossa conta de armazenamento de desenvolvimento como no código abaixo:
<p align="justify"><a href="http://blob.vitormeriat.com.br/images/2011/08/02.png"><img style="background-image:none;padding-left:0;padding-right:0;display:block;float:none;margin-left:auto;margin-right:auto;padding-top:0;border-width:0;" title="02" alt="02" src="http://blob.vitormeriat.com.br/images/2011/08/02.png" width="570" height="219" /></a>
<p align="justify">Cabe aqui fazer uma observação: O esquema de URI trabalhado pelo emulador de armazenamento é diferente do esquema utilizado pelos serviços de armazenamento na nuvem. No ambiente de desenvolvimento o nome da conta faz parte do caminho hierárquico da URI já no armazenamento na nuvem o nome da conta faz parte do nome de domínio. Isto ocorre devido a resolução de nomes de domínio estarem disponíveis na nuvem, mas não no computador local. </p>
<p align="justify">Devido a limitação citada acima, o esquema URI do emulador de armazenamento&nbsp; segue este formato:</p>
<p align="justify"><a href="http://&lt;endereco-maquina-local&gt;:&lt;porta&gt;/&lt;nome-da-conta&gt;/&lt;recurso">http://&lt;endereco-maquina-local&gt;:&lt;porta&gt;/&lt;nome-da-conta&gt;/&lt;recurso</a>&gt;</p>
<p align="justify">Os serviços&nbsp; podem ser acessados com os seguintes esquemas URI:</p>
<ul>
<ul>
<li>
<div align="justify">Blob: http://127.0.0.1:10000/&lt;nome-da-conta&gt;/&lt;recurso&gt;</div>
</li>
<li>
<div align="justify">Queue: http://127.0.0.1:10001/&lt;nome-da-conta&gt;/&lt;recurso&gt;</div>
</li>
<li>
<div align="justify">Table: http://127.0.0.1:10002/&lt;nome-da-conta&gt;/&lt;recurso&gt;</div>
</li>
</ul>
</ul>
<p align="justify"><font color="#777777">Um exemplo prático de endereço usado para acessar um blob no emulador de armazenamento seria:</font></p>
<p align="justify"><a href="http://127.0.0.1:10000/minhaconta/meucontainer/meublob.txt">http://127.0.0.1:10000/minhaconta/meucontainer/meublob.txt</a></p>
<blockquote><p align="justify">O emulador de armazenamento se baseia em um Microsoft SQL Server e fornece serviços semelhantes aos do armazenamento no Windows Azure. Por padrão, o emulador de armazenamento é configurado para um banco de dados Microsoft SQL Server Express nas versões 2005 ou 2008. Você pode instalar o SQL Server Management Studio Express para gerenciar sua instalação do SQL Server Express. Não é recomendado alterar a base gerada.</p>
</blockquote>
<p align="justify">O emulador de armazenamento é um processo (DSService.exe) que permite a utilização de uma interface para iniciar, parar, redefinir instâncias ou simplesmente desligar os serviços. Você pode acessar a interface seguindo os passos abaixo.</p>
<p align="justify"><a href="http://blob.vitormeriat.com.br/images/2011/08/05.png"><img style="background-image:none;padding-left:0;padding-right:0;display:block;float:none;margin-left:auto;margin-right:auto;padding-top:0;border-width:0;" title="05" alt="05" src="http://blob.vitormeriat.com.br/images/2011/08/05.png" width="570" height="247" /></a></p>
<p align="justify">&nbsp;</p>
<h3 align="justify">Armazenamento na Nuvem</h3>
<p align="justify">Você pode definir uma string de conexão para uma conta de armazenamento no Windows Azure de duas formas:
<ul>
<ul>
<li>
<div align="justify">Utilizar os endpoints padrão para os serviços de armazenamento. Esta é a opção mais simples uma vez que quando você usa este formato é necessário apenas informar o nome da conta e a chave e indicar se deseja conectar através de&nbsp; HTTP ou HTTPS. </div>
</li>
<li>
<div align="justify">Especificar endpoints explícitos para os serviços de armazenamento, permitindo especificar endpoints para os serviços incluindo um nome de domínio personalizado ou minimizando a exposição de informações para um acesso compartilhado etc.</div>
</li>
</ul>
</ul>
<p align="justify"><font color="#777777">Formato utilizando endpoints padrão:</font></p>
<ul>
<li>
<div align="justify"><code>DefaultEndpointsProtocol=[http|https];AccountName=nomeConta;AccountKey=chaveConta</code></div>
</li>
</ul>
<p align="justify">Formato utilizando endpoints explícitos: </p>
<ul>
<li>
<div align="left">BlobEndpoint=meuBlobEndpoint;QueueEndpoint=meuQueueEndpoint;&nbsp; TableEndpoint=meuTableEndpoint; AccountName=meuAccountName; AccountKey=meuAccountKey</div>
</li>
</ul>
<p align="justify">O esquema básico de endereçamento para utilizar os recursos de armazenamento na nuvem é: &lt;http|https&gt;://&lt;account-name&gt;.&lt;service-name&gt;.core.windows.net/&lt;resource-path&gt; onde account-name representa o nome da conta, service-name o nome do serviço que esta sendo acessado e resource-path o recurso solicitado. Segue um exemplo com os esquemas URI para cada um dos serviços:</p>
<ul>
<ul>
<li>
<div align="justify">Blob: &lt;http|https&gt;://&lt;nome-da-conta&gt;.blob.core.windows.net/&lt;recurso&gt;</div>
</li>
<li>
<div align="justify">Queue: &lt;http|https&gt;://&lt;nome-da-conta&gt;.queue.core.windows.net/&lt;recurso&gt;</div>
</li>
<li>
<div align="justify">Table: &lt;http|https&gt;://&lt;nome-da-conta&gt;.table.core.windows.net/&lt;recurso&gt;</div>
</li>
</ul>
</ul>
<p align="justify">Um exemplo prático de endereço acessando um blob seria:</p>
<p align="justify"><a href="http://vitormeriat.blob.core.windows.net/meucontainer/meublob.txt">http://vitormeriat.blob.core.windows.net/meucontainer/meublob.txt</a></p>
<p align="justify">O código fonte do exemplo utilizado neste artigo pode ser baixado <a href="https://skydrive.live.com/?cid=bd055aa47a388023#!/?cid=bd055aa47a388023&amp;sc=documents&amp;uc=1&amp;id=BD055AA47A388023%21218" target="_blank">aqui!</a></p>
<p>
<hr />
<p>PS: Estreando outro desenho do mascote…</p>
<p>&nbsp;</p>
<h3>Um grande abraço e ótimo estudo!</h3>
</p></p></p></p></p></p></p></p></p></p></p></p>

    </section>
  </article>

  <hr/>
  <section class="author">
  	<header> <a href=""> <img class="profile" src="/assets/images/profile.jpg" alt="Author's profile picture"></a></header>
  	<article>
  		<!-- Author Name -->
      	<h4>  </h4>
      	<!-- Author Bio -->
      	<p>
      		Vitor is a computer scientist who is passionate about creating software that will positively change the world we live in.
      	</p>
        <p>Share this post: <a href="http://twitter.com/share?text=Windows Azure Storage: Azure Storage Emulator e Armazenamento na Nuvem&amp;url=http://localhost:4000/2011/08/10/windows-azure-storage-azure-storage-emulator-e-armazenamento-na-nuvem/"
          target="_blank"><i class="fa fa-twitter fa-1x"></i> Twitter</a> - 
          <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2011/08/10/windows-azure-storage-azure-storage-emulator-e-armazenamento-na-nuvem/"
            target="_blank"><i class="fa fa-facebook fa-1x"></i> Facebook</a></p>
      </article>
  </section>
  <hr/>

  <div style="margin-top: 60px; margin-bottom: 60px;">
    
    
      5 minutes to read
    
  </div>

  <div class="PageNavigation">
  
    <a class="prev" href="/2011/08/03/windows-azure-storage-decolando-com-armazenamento-na-nuvem/"><i class="fa fa-lg fa-arrow-left"></i> Windows Azure Storage: Decolando com armazenamento na Nuvem!</a>
  
  
    <a class="next" href="/2011/08/12/charge-da-semana-gerenciando-projetos-parte-1/">Charge da Semana: Gerenciando Projetos parte 1 <i class="fa fa-lg fa-arrow-right"></i></a>
  
  </div>
</div>
<div style="height: 80px;"></div>

    </main>

    <footer id="fh5co-footer" role="contentinfo">
		<div class="container">
			<div class="row">
				<div class="col-md-push-6 col-md-9">
					<ul class="fh5co-footer-social">
						<li><a href="https://twitter.com/vitormeriat" target="_blank"><i class="fa fa-twitter fa-1x"></i> Twitter</a></li>
						<li><a href="https://github.com/vitormeriat" target="_blank"><i class="fa fa-github fa-1x"></i> Github</a></li>
						<li><a href="https://www.linkedin.com/in/vitormeriat" target="_blank"><i class="fa fa-linkedin fa-1x"></i> LinkedIn</a></li>
						<li><a href="https://www.instagram.com/vitormeriat/" target="_blank"><i class="fa fa-instagram fa-1x"></i> Instagram</a></li>
						<li><a href="https://www.facebook.com/vitormeriat/" target="_blank"><i class="fa fa-facebook fa-1x"></i> Facebook</a></li>
					</ul>
					<p class="fh5co-copyright">
						<small>(c) 2017 <a href="/">Meriat's</a>. All Rights Reserved.
						</small>
					</p>
				</div>
			</div>
		</div>
	</footer>

	<!-- Go To Top -->
	<a href="#" class="fh5co-gotop"><i class="ti-shift-left"></i></a>

	<!-- jQuery -->
	<script src="/assets/js/jquery-1.10.2.min.js"></script>
	<!-- jQuery Easing -->
	<script src="/assets/js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="/assets/js/bootstrap.js"></script>
	<!-- Owl carousel -->
	<script src="/assets/js/owl.carousel.min.js"></script>
	<!-- Magnific Popup -->
 <script src="/assets/js/jquery.magnific-popup.min.js"></script>
	<!-- Easy Responsive Tabs -->
	<script src="/assets/js/easyResponsiveTabs.js"></script>
	<!-- FastClick for Mobile/Tablets -->
	<script src="/assets/js/fastclick.js"></script>
	<!-- Velocity -->
	<script src="/assets/js/velocity.min.js"></script>
	<!-- Main JS -->
	<script src="/assets/js/main.js"></script>


  </body>
</html>
