<!DOCTYPE html>
<html>

  ﻿<head>
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-90757610-1', 'auto');
    ga('send', 'pageview');
  </script>

  <script type="text/javascript">
  var appInsights=window.appInsights||function(config){
    function i(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s="AuthenticatedUserContext",h="start",c="stop",l="Track",a=l+"Event",v=l+"Page",y=u.createElement(o),r,f;y.src=config.url||"https://az416426.vo.msecnd.net/scripts/a/ai.0.js";u.getElementsByTagName(o)[0].parentNode.appendChild(y);try{t.cookie=u.cookie}catch(p){}for(t.queue=[],t.version="1.0",r=["Event","Exception","Metric","PageView","Trace","Dependency"];r.length;)i("track"+r.pop());return i("set"+s),i("clear"+s),i(h+a),i(c+a),i(h+v),i(c+v),i("flush"),config.disableExceptionTracking||(r="onerror",i("_"+r),f=e[r],e[r]=function(config,i,u,e,o){var s=f&&f(config,i,u,e,o);return s!==!0&&t["_"+r](config,i,u,e,o),s}),t
    }({
        instrumentationKey:"d4823b90-66dc-43d1-84c6-7da8a3796ebd"
    });
    window.appInsights=appInsights;
    appInsights.trackPageView();
</script>

  <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Vitor Meriat</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Vitor Meriat" />
	<meta name="keywords" content="cloud computing, machine learning, big data, iot, developer, data scientist" />
	<meta name="author" content="Vitor Meriat" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="/assets/favicon.ico">

	<!-- Google Webfont -->
	<link href='https://fonts.googleapis.com/css?family=PT+Mono' rel='stylesheet' type='text/css'>
	<!-- Themify Icons -->
	<link rel="stylesheet" href="/assets/css/themify-icons.css">
	<!-- Icomoon Icons -->
	<link rel="stylesheet" href="/assets/css/icomoon-icons.css">
	<!-- Bootstrap -->
	<link rel="stylesheet" href="/assets/css/bootstrap.css">
	<!-- Owl Carousel -->
	<link rel="stylesheet" href="/assets/css/owl.carousel.min.css">
	<link rel="stylesheet" href="/assets/css/owl.theme.default.min.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="/assets/css/magnific-popup.css">
	<!-- Easy Responsive Tabs -->
	<link rel="stylesheet" href="/assets/css/easy-responsive-tabs.css">
	<!-- Theme Style -->
	<link rel="stylesheet" href="/assets/css/style.css?v1">

	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
	<link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/obsidian.css">

	<script>hljs.initHighlightingOnLoad();</script>

	<!-- FOR IE9 below -->
	<!--[if lte IE 9]>
	<script src="js/modernizr-2.6.2.min.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
</head>


  <body>
    <!-- Header -->
	<header id="fh5co-header" role="banner">
		<div class="container">
      <div id="fh5co-logo">
				<a href="/">
					<img src="/assets/images/logo-d.png" alt="Work Logo">
				</a>
			</div>
      <div style="text-align: center;">
        <a href="/"><h2 style="margin-top: 0px !important;">Vitor Meriat</h2></a>
        <span style="font-size: 1em; color: black;">MVP Azure - Cloud Architect - Data science enthusiast</span>
      </div>
			<!-- Mobile Toggle Menu Button -->
			<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>

			<!-- Main Nav -->
			<div id="fh5co-main-nav">
				<nav id="fh5co-nav" role="navigation">
					<ul>
						<li class="">
							<a href="/">Blog</a>
						</li>
						<li class="">
							<a href="/archive/">Archives</a>
						</li>
            <li class="">
							<a href="/category/">Categories</a>
						</li>
            <li class="">
							<a href="/about/"> About me </a>
						</li>
					</ul>
					<!-- <a href="http://www.vitormeriat.com.br/" target="_blank" class="fh5co-nav-call-to-action js-fh5co-nav-call-to-action">Blog</a> -->
          <!-- <a href="/about/" class="">About me</a> -->
				</nav>
			</div>
			<!-- Main Nav -->
		</div>
	</header>
	<!-- Header -->
    <main role="main">
      <div class="container">
  <article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="row">
      <div class="fh5co-spacer fh5co-spacer-sm"></div>
      <div class="col-md-12 text-center">
        <h1>Dissecando as expressões Lambda</h1>
        
      </div>
      
        <h2 class="fh5co-uppercase-heading-sm text-center">
          C#
        </h2>
      
      <span><time datetime="2011-04-20T00:00:00-03:00" itemprop="datePublished">Apr 20, 2011</time></span>
    </div>
    <div class="fh5co-spacer fh5co-spacer-md"></div>
    <section class="section-padding post" itemprop="articleBody">
      <p>Esta semana fui questionado sobre o que singificava aquele “<strong>treco</strong>” que todo mundo usa quando vai fazer uma consulta linq. São as expressões lambda, eu disse. Acabei percebendo que na turma ninguém sabia o que eram expressões lambda, apesar de todos as utilizarem.</p>
<p>O primeiro passo para entendermos as expressões lambda é desvendar sua origem. Nosso estudo deve, portanto, se iniciar pelos delegates...</p>
<p>O conceito de delegates não é algo tão novo. O pessoal mais nostalgico vai se animar com este assunto. Este conceito já era utilizado no na linguagem <strong>C</strong> e era intitulado "<strong>ponteiro para função</strong>". Terminologia que deixa mais claro o que um delegate realmente faz.</p>
<p>O delegate assim como o ponteiro para função, guarda uma referência a uma função(ou método) e permite que chamemos essa função quando precisarmos.</p>
<p>Em .Net estes "ponteiros" foram entitulados delegates e adicionou-se segurança de tipo a ele, sendo assim, para utilizar um delegate devemos especificar exatamente o tipo do resultado que o método apontado retorna, bem como os argumentos que o método espera receber.</p>
<p>Após satisfazer estas condições podemos "passar" o delegate como se fosse uma variável.</p>
<p>Nosso primeiro exemplo mostra o uso de delegate assim como era utilizado no .NET 1.0! Definimos um delegate e o tipo de argumento para o mesmo. Criamos o delegate e apontamos para o método de referência. Agora podemos<br />utilizar nosso delegate pelo código...</p>
<p align="center"><a href="http://blob.vitormeriat.com.br/images/2011/04/lambda1.png"><img alt="Lambda1" src="http://blob.vitormeriat.com.br/images/2011/04/lambda1.png" /></a></p>
<p>Dando um salto até o lançamento do .NET 2.0, teremos uma nova feature que irá facilitar o uso dos delegates em relação a maneira como eram escritos anteriormente. Este novo recurso eram os "Métodos Anônimos".</p>
<p>Os métodos anônimos suprimem a necessidade de se criar outros métodos para apontá-los com delegates!!! É isso mesmo! Agora podemos definir o método a ser apontado no mesmo instante em que criamos o delegate e o compilador fica com a responsabilidade da interpretação. Na prática houve aqui um grande evolução na escrita do código.</p>
<p>Vamos observar o funcionamento de um delegate tradicional comparado a sua utilização com um método anônimo: </p>
<p align="center"><a href="http://blob.vitormeriat.com.br/images/2011/04/2.png"><img alt="2" src="http://blob.vitormeriat.com.br/images/2011/04/2.png" /></a></p>
<p>Podemos ver claramente a diferença aqui. Com os métodos anônimos, não precisamos criar outro método e um delegate que aponta para esse método. Dizemos apenas que queremos um delegate aqui e especificamos o corpo do método a ser chamado. É muito mais conveniente utilizar um método anônimo ao invés do modo com delegate tradicional. A definição do código a utilizar fica junto a sua utilização, tornando tudo mais intelegível. </p>
<p>Outra característica introduzida com os métodos anônimos é a possibilidade de usar variáveis definidas fora do método anônimo: Utilizando o exemplo acima, podemos ter uma variável e a utilizar na condição do método anônimo.</p>
<p align="center"><a href="http://blob.vitormeriat.com.br/images/2011/04/3.png"><img alt="3" src="http://blob.vitormeriat.com.br/images/2011/04/3.png" /></a></p>
<p>Neste exemplo vemos o uso da variável "procuraValor" dentro corpo do método do delegate embora tenhamos o definido fora dele. Neste caso, o compilador C# não somente cria o método como a própria classe (que contém o método) onde o valor que usaremos no corpo do delegate é passado como um membro dessa classe.</p>
<h3>Expressões Lambda</h3>
<p>Lambda expressions são expressões anônimas e métodos anônimos com uma sintaxe açucarada(syntatic sugar ou açucar sintático refere-se a maior legibilidade do código bem como maior facilidade na escrita) que tornará mais agradavel e elegante a forma de embarcar métodos anônimos ao código.</p>
<p>Nos dias de hoje, no C#3.0 (e no .NET 3.5) temos as expressões Lambda que são o próximo passo na "evolução do delegate". Agora, o compilador faz sumir o "delegate(...) {...}" (isso economiza um monte de digitação). Uma expressão lambda sempre consiste de duas partes (esquerda e direita) separadas por um "<strong>=&gt;</strong>". Este(<strong>=&gt;</strong>) por sua vez é o operador lambda que foi introduzido no C# 3.0 e é lido como "goes to" (vai para). A parte à esquerda do operador labmda contém uma lista de argumentos(não necessariamente tipados pois os tipos&nbsp; podem ser automáticamente indicados pelo compilador) a serem passados ao método. O lado direito contém o corpo do método. </p>
<h4>Vamos a prática:</h4>
<p>Em um determinado cenário temos um conjunto de regras que são alteradas com frequência. Para um melhor desing decidimos isolar este trecho de código. Criamos então um delegate que retorna um double. Em nossa aplicação percorremos uma lista de valores e aplicamos para cada item nossa regra, que em suma aplica o valor 0.0 quando o resultado retornado for menor que 300.00.</p>
<p align="center"><a href="http://blob.vitormeriat.com.br/images/2011/04/4.png"><img alt="4" src="http://blob.vitormeriat.com.br/images/2011/04/4.png" /></a></p>
<p>Notem que a expressão Lambda utilizada no método AplicaRegras é iniciado por um argumento de tipo implícito (<strong>i</strong>) que <u>vai para</u> o resultado de um calculo que neste caso e 15% do <strong>item</strong> em questão.</p>
<p>Agora fica muito mais fácil entender nossas consultas linq…</p>
<pre style="font-size: 1.2em !important">
    <code class="cs">
// Crio um objeto de contexto
ContextoDeDados contexto = new ContextoDeDados();
// Consulto os desenvolvedores que trabalhama na empresa Literatura e Cia
var consulta = contexto.desenvolvedores.Where(c =&gt; c.Empresa == "Literatura e Cia");
    </code>
</pre>

<pre><a href="http://cid-bd055aa47a388023.office.live.com/self.aspx/.Public/ExpressoesLambda.rar">Baixe o código dos Exemplos utilizados neste artigo.</a></pre>

    </section>
  </article>

  <hr/>
  <section class="author">
  	<header> <a href=""> <img class="profile" src="/assets/images/profile.jpg" alt="Author's profile picture"></a></header>
  	<article>
  		<!-- Author Name -->
      	<h4>  </h4>
      	<!-- Author Bio -->
      	<p>
      		Vitor is a computer scientist who is passionate about creating software that will positively change the world we live in.
      	</p>
        <p>Share this post: <a href="http://twitter.com/share?text=Dissecando as expressões Lambda&amp;url=http://localhost:4000/2011/04/20/dissecando-as-expresses-lambda/"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><i class="fa fa-twitter fa-1x"></i> Twitter</a> - <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2011/04/20/dissecando-as-expresses-lambda/"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"><i class="fa fa-facebook fa-1x"></i> Facebook</a></p>
      </article>
  </section>
  <hr/>

  <div style="margin-top: 60px; margin-bottom: 60px;">
    
    
      4 minutes to read
    
  </div>

  <div class="PageNavigation">
  
    <a class="prev" href="/2011/03/24/cdigos-de-erro-do-azure-para-servios-de-armazenamento/"><i class="fa fa-lg fa-arrow-left"></i> Códigos de Erro do Azure para serviços de Armazenamento.</a>
  
  
    <a class="next" href="/2011/04/24/mtodos-de-extenso/">Métodos de extensão <i class="fa fa-lg fa-arrow-right"></i></a>
  
  </div>
</div>
<div style="height: 80px;"></div>

    </main>

    <footer id="fh5co-footer" role="contentinfo">
		<div class="container">
			<div class="row">
				<div class="col-md-push-6 col-md-9">
					<ul class="fh5co-footer-social">
						<li><a href="https://twitter.com/vitormeriat" target="_blank"><i class="fa fa-twitter fa-1x"></i> Twitter</a></li>
						<li><a href="https://github.com/vitormeriat" target="_blank"><i class="fa fa-github fa-1x"></i> Github</a></li>
						<li><a href="https://www.linkedin.com/in/vitormeriat" target="_blank"><i class="fa fa-linkedin fa-1x"></i> LinkedIn</a></li>
						<li><a href="https://www.instagram.com/vitormeriat/" target="_blank"><i class="fa fa-instagram fa-1x"></i> Instagram</a></li>
						<li><a href="https://www.facebook.com/vitormeriat/" target="_blank"><i class="fa fa-facebook fa-1x"></i> Facebook</a></li>
					</ul>
					<p class="fh5co-copyright">
						<small>(c) 2017 <a href="/">Meriat's</a>. All Rights Reserved.
						</small>
					</p>
				</div>
			</div>
		</div>
	</footer>

	<!-- Go To Top -->
	<a href="#" class="fh5co-gotop"><i class="ti-shift-left"></i></a>

	<!-- jQuery -->
	<script src="/assets/js/jquery-1.10.2.min.js"></script>
	<!-- jQuery Easing -->
	<script src="/assets/js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="/assets/js/bootstrap.js"></script>
	<!-- Owl carousel -->
	<script src="/assets/js/owl.carousel.min.js"></script>
	<!-- Magnific Popup -->
 <script src="/assets/js/jquery.magnific-popup.min.js"></script>
	<!-- Easy Responsive Tabs -->
	<script src="/assets/js/easyResponsiveTabs.js"></script>
	<!-- FastClick for Mobile/Tablets -->
	<script src="/assets/js/fastclick.js"></script>
	<!-- Velocity -->
	<script src="/assets/js/velocity.min.js"></script>
	<!-- Main JS -->
	<script src="/assets/js/main.js"></script>


  </body>
</html>
