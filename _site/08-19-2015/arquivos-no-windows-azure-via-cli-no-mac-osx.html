<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Arquivos no Windows Azure via CLI no MAC OSX</title>

    <link rel="stylesheet" type="text/css" href="http://www.jorgemaia.com.br/assets/css/styles_feeling_responsive.css">

  

	<script src="http://www.jorgemaia.com.br/assets/js/modernizr.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ]
			}
		});
	</script>

	<noscript>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'>
	</noscript>


	<!-- Search Engine Optimization -->
	<meta name="description" content="Como todos sabem eu mantenho um podcast e recentemente, após algumas várias semanas sem gravar resolvi que era momento de retomar as falas. Com isso voltei a me perguntar sobre como automatizar mais o processo entre gravar, colocar a vinheta, gerar o post no site do podcast e disponibilizar aos ouvintes a boa nova. Neste insight me deparei com a mesma pergunta que outrora já havia me feito sobre qual a real necessidade de manter a minha assinatura do SoundCloud, pois tenho um site e um feed próprio!

Não tenho de maneira alguma a pretenção de fazer um trabalho melhor que o SoundCloud, mas, para minha necessidade ele está servindo somente como repositório de arquivos MP3. Se o negócio é só esse, por que não usar o blob storage do Windows Azure?

Então, depois de relutar por vários meses em manter o serviço, resolvi mudar, graças a isso, aproveitei também para retomar as escritas no Blog. (em breve colocarei todos os rascunhos no ar, preciso somente dar uma lida pois tem texto de mais de um ano).

Vamos ao que interessa! Para guardar arquivos no Storage do Azure e acessar/controlar via MAC OSX.

Passo 1 - Instalar o CLI no MAC (pode ser usado no Windows e no Linux também)

Primeiro verifique se o Node.js está instalado, se quiser usar um terminal basta digitar npm -v e ver o que acontece, se vier uma versão você tem senão você tem que fazer o download e instalar.



Após a instalação sabemos Node.js e podemos prosseguir.

Com isso partimos para instalação do Azure Command-Line Interface (Azure CLI) que vai nos dar o poder via shell de manipular sites, serviços, vms e o Storage que é nosso foco hoje. Claro que tem muito mais coisa além disso, mas vamos focar no que nos propomos.
Instalando o Azure CLI

sudo npm install -g azure-cli
Não se esqueça de elevar o comando para ser executado como administrador da máquina.



E agora temos Azure CLI no MAC OSX! Então vamos ao que interessa.

Digite azure no seu terminal e bem vindo ao mundo!



Agora para saber de todos os comandos você pode usar azure + comando e receberá uma ajuda específica.

Passo 2 - Conectar no Azure pela linha de comando 

Para acessar sua conta você precisa do arquivo de publicação, para isso vamos ao invés de baixar do portal já usar o terminal e pegar o arquivo.

azure account download



Uma janela de navegador se abrirá e após você estar logado o arquivo é baixado para sua máquina.



Com isso, temos o arquivo de publicação e vamos ter que importar ele para que possamos usar a conta.

azure account import /Caminho…



Agora vamos colocar arquivos.

Para partirmos para os arquivos, temos que entender que no Storage do Azure não temos diretórios, para separar arquivos em grupos usaremos os containers. O que precisamos então é de uma conta de armazenamento, containers e arquivos. Lembrando que você vai acessar suas imagens por uma URI, que deverá ser mais ou menos desta forma:
&quot;https://ContaArmazenamento.blob.core.windows.net/Container/(blob)Arquivo.extensão&quot;

Aproveito para lembrar que é possível criar um apontamento personalizado do seu domínio para este “link” de acesso.

Vamos então criar a nossa conta teste de armazenamento via comando.



A solicitação do tipo da conta se refere a redundância e é dada por Locally redundant storage, Zone-redundant storage, Geo-redundant storage, Read-access geo-redundant storage o PLRS se refere a contas Premium para máquinas virtuais onde se precisa de alto desempenho e baixa latência.

Agora temos conta de armazenamento, vamos então criar um container e mandar arquivos.

Para qualquer operação em uma conta, precisamos da chave de acesso, para isso vamos listar as chaves de acesso



se suas chaves estão suscetíveis a vazamento ou tiverem por algum motivo que serem substituídas, utilize o comando keys renew para isso.

Para facilitar nossos comandos, vamos definir uma conta e sua chave para não termos que digitar sempre, para isso vamos salvar nessa sessão com uso do export, e as chaves de conta e chave.

 export AZURE_STORAGE_ACCOUNT=jorgemaiateste
export AZURE_STORAGE_ACCESS_KEY=CHAVE



Para enviar arquivos precisamos de um container, para isso vamos criar um.

azure storage container create MeuContainer

Para Listar os containers usamos

azure storage container list



veja que o container não tem acesso público, o que não interessa nesse caso. Existem 3 níveis, o Off que é privado para tudo, o Blob que é publico para leitura do blob, mas não vê a listagem do container, nem os metadados e o Container que vê e lista tudo. Então vamos definir o container como Container, pois os metadados nos interessam.

azure storage container set arquivos -p Container



Por fim, vamos subir um arquivo e acessar pelo navegador.

no meu caso aqui, o arquivo é uma logo minha que se chama jorge.png e está no diretório em que estou executando o comando.

azure storage blob upload ‘jorge.png’ arquivos 

 





 

Para mais informações sobre os comandos use o Help do próprio CLI, digitando azure e o comando que quer saber.

Sempre bom usar definições sólidas, por isso recomendo uma lida no artigo de conceitos do MSDN sobre Naming and Referencing Containers, Blobs, and Metadata.">
  	<meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ">
	<meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" >
	<link rel="author" href="https://plus.google.com/u/0/118311555303973066167">
	
	


	<!-- Facebook Open Graph -->
	<meta property="og:title" content="Arquivos no Windows Azure via CLI no MAC OSX">
	<meta property="og:description" content="Como todos sabem eu mantenho um podcast e recentemente, após algumas várias semanas sem gravar resolvi que era momento de retomar as falas. Com isso voltei a me perguntar sobre como automatizar mais o processo entre gravar, colocar a vinheta, gerar o post no site do podcast e disponibilizar aos ouvintes a boa nova. Neste insight me deparei com a mesma pergunta que outrora já havia me feito sobre qual a real necessidade de manter a minha assinatura do SoundCloud, pois tenho um site e um feed próprio!

Não tenho de maneira alguma a pretenção de fazer um trabalho melhor que o SoundCloud, mas, para minha necessidade ele está servindo somente como repositório de arquivos MP3. Se o negócio é só esse, por que não usar o blob storage do Windows Azure?

Então, depois de relutar por vários meses em manter o serviço, resolvi mudar, graças a isso, aproveitei também para retomar as escritas no Blog. (em breve colocarei todos os rascunhos no ar, preciso somente dar uma lida pois tem texto de mais de um ano).

Vamos ao que interessa! Para guardar arquivos no Storage do Azure e acessar/controlar via MAC OSX.

Passo 1 - Instalar o CLI no MAC (pode ser usado no Windows e no Linux também)

Primeiro verifique se o Node.js está instalado, se quiser usar um terminal basta digitar npm -v e ver o que acontece, se vier uma versão você tem senão você tem que fazer o download e instalar.



Após a instalação sabemos Node.js e podemos prosseguir.

Com isso partimos para instalação do Azure Command-Line Interface (Azure CLI) que vai nos dar o poder via shell de manipular sites, serviços, vms e o Storage que é nosso foco hoje. Claro que tem muito mais coisa além disso, mas vamos focar no que nos propomos.
Instalando o Azure CLI

sudo npm install -g azure-cli
Não se esqueça de elevar o comando para ser executado como administrador da máquina.



E agora temos Azure CLI no MAC OSX! Então vamos ao que interessa.

Digite azure no seu terminal e bem vindo ao mundo!



Agora para saber de todos os comandos você pode usar azure + comando e receberá uma ajuda específica.

Passo 2 - Conectar no Azure pela linha de comando 

Para acessar sua conta você precisa do arquivo de publicação, para isso vamos ao invés de baixar do portal já usar o terminal e pegar o arquivo.

azure account download



Uma janela de navegador se abrirá e após você estar logado o arquivo é baixado para sua máquina.



Com isso, temos o arquivo de publicação e vamos ter que importar ele para que possamos usar a conta.

azure account import /Caminho…



Agora vamos colocar arquivos.

Para partirmos para os arquivos, temos que entender que no Storage do Azure não temos diretórios, para separar arquivos em grupos usaremos os containers. O que precisamos então é de uma conta de armazenamento, containers e arquivos. Lembrando que você vai acessar suas imagens por uma URI, que deverá ser mais ou menos desta forma:
&quot;https://ContaArmazenamento.blob.core.windows.net/Container/(blob)Arquivo.extensão&quot;

Aproveito para lembrar que é possível criar um apontamento personalizado do seu domínio para este “link” de acesso.

Vamos então criar a nossa conta teste de armazenamento via comando.



A solicitação do tipo da conta se refere a redundância e é dada por Locally redundant storage, Zone-redundant storage, Geo-redundant storage, Read-access geo-redundant storage o PLRS se refere a contas Premium para máquinas virtuais onde se precisa de alto desempenho e baixa latência.

Agora temos conta de armazenamento, vamos então criar um container e mandar arquivos.

Para qualquer operação em uma conta, precisamos da chave de acesso, para isso vamos listar as chaves de acesso



se suas chaves estão suscetíveis a vazamento ou tiverem por algum motivo que serem substituídas, utilize o comando keys renew para isso.

Para facilitar nossos comandos, vamos definir uma conta e sua chave para não termos que digitar sempre, para isso vamos salvar nessa sessão com uso do export, e as chaves de conta e chave.

 export AZURE_STORAGE_ACCOUNT=jorgemaiateste
export AZURE_STORAGE_ACCESS_KEY=CHAVE



Para enviar arquivos precisamos de um container, para isso vamos criar um.

azure storage container create MeuContainer

Para Listar os containers usamos

azure storage container list



veja que o container não tem acesso público, o que não interessa nesse caso. Existem 3 níveis, o Off que é privado para tudo, o Blob que é publico para leitura do blob, mas não vê a listagem do container, nem os metadados e o Container que vê e lista tudo. Então vamos definir o container como Container, pois os metadados nos interessam.

azure storage container set arquivos -p Container



Por fim, vamos subir um arquivo e acessar pelo navegador.

no meu caso aqui, o arquivo é uma logo minha que se chama jorge.png e está no diretório em que estou executando o comando.

azure storage blob upload ‘jorge.png’ arquivos 

 





 

Para mais informações sobre os comandos use o Help do próprio CLI, digitando azure e o comando que quer saber.

Sempre bom usar definições sólidas, por isso recomendo uma lida no artigo de conceitos do MSDN sobre Naming and Referencing Containers, Blobs, and Metadata.">
	<meta property="og:url" content="http://www.jorgemaia.com.br/08-19-2015/arquivos-no-windows-azure-via-cli-no-mac-osx.html">
	<meta property="og:locale" content="en_EN">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Jorge Maia">
	
	<meta property="article:author" content="https://www.facebook.com/joregasmaia">


	
	<!-- Twitter -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="jorgemaia">
	<meta name="twitter:creator" content="jorgemaia">
	<meta name="twitter:title" content="Arquivos no Windows Azure via CLI no MAC OSX">
	<meta name="twitter:description" content="Como todos sabem eu mantenho um podcast e recentemente, após algumas várias semanas sem gravar resolvi que era momento de retomar as falas. Com isso voltei a me perguntar sobre como automatizar mais o processo entre gravar, colocar a vinheta, gerar o post no site do podcast e disponibilizar aos ouvintes a boa nova. Neste insight me deparei com a mesma pergunta que outrora já havia me feito sobre qual a real necessidade de manter a minha assinatura do SoundCloud, pois tenho um site e um feed próprio!

Não tenho de maneira alguma a pretenção de fazer um trabalho melhor que o SoundCloud, mas, para minha necessidade ele está servindo somente como repositório de arquivos MP3. Se o negócio é só esse, por que não usar o blob storage do Windows Azure?

Então, depois de relutar por vários meses em manter o serviço, resolvi mudar, graças a isso, aproveitei também para retomar as escritas no Blog. (em breve colocarei todos os rascunhos no ar, preciso somente dar uma lida pois tem texto de mais de um ano).

Vamos ao que interessa! Para guardar arquivos no Storage do Azure e acessar/controlar via MAC OSX.

Passo 1 - Instalar o CLI no MAC (pode ser usado no Windows e no Linux também)

Primeiro verifique se o Node.js está instalado, se quiser usar um terminal basta digitar npm -v e ver o que acontece, se vier uma versão você tem senão você tem que fazer o download e instalar.



Após a instalação sabemos Node.js e podemos prosseguir.

Com isso partimos para instalação do Azure Command-Line Interface (Azure CLI) que vai nos dar o poder via shell de manipular sites, serviços, vms e o Storage que é nosso foco hoje. Claro que tem muito mais coisa além disso, mas vamos focar no que nos propomos.
Instalando o Azure CLI

sudo npm install -g azure-cli
Não se esqueça de elevar o comando para ser executado como administrador da máquina.



E agora temos Azure CLI no MAC OSX! Então vamos ao que interessa.

Digite azure no seu terminal e bem vindo ao mundo!



Agora para saber de todos os comandos você pode usar azure + comando e receberá uma ajuda específica.

Passo 2 - Conectar no Azure pela linha de comando 

Para acessar sua conta você precisa do arquivo de publicação, para isso vamos ao invés de baixar do portal já usar o terminal e pegar o arquivo.

azure account download



Uma janela de navegador se abrirá e após você estar logado o arquivo é baixado para sua máquina.



Com isso, temos o arquivo de publicação e vamos ter que importar ele para que possamos usar a conta.

azure account import /Caminho…



Agora vamos colocar arquivos.

Para partirmos para os arquivos, temos que entender que no Storage do Azure não temos diretórios, para separar arquivos em grupos usaremos os containers. O que precisamos então é de uma conta de armazenamento, containers e arquivos. Lembrando que você vai acessar suas imagens por uma URI, que deverá ser mais ou menos desta forma:
&quot;https://ContaArmazenamento.blob.core.windows.net/Container/(blob)Arquivo.extensão&quot;

Aproveito para lembrar que é possível criar um apontamento personalizado do seu domínio para este “link” de acesso.

Vamos então criar a nossa conta teste de armazenamento via comando.



A solicitação do tipo da conta se refere a redundância e é dada por Locally redundant storage, Zone-redundant storage, Geo-redundant storage, Read-access geo-redundant storage o PLRS se refere a contas Premium para máquinas virtuais onde se precisa de alto desempenho e baixa latência.

Agora temos conta de armazenamento, vamos então criar um container e mandar arquivos.

Para qualquer operação em uma conta, precisamos da chave de acesso, para isso vamos listar as chaves de acesso



se suas chaves estão suscetíveis a vazamento ou tiverem por algum motivo que serem substituídas, utilize o comando keys renew para isso.

Para facilitar nossos comandos, vamos definir uma conta e sua chave para não termos que digitar sempre, para isso vamos salvar nessa sessão com uso do export, e as chaves de conta e chave.

 export AZURE_STORAGE_ACCOUNT=jorgemaiateste
export AZURE_STORAGE_ACCESS_KEY=CHAVE



Para enviar arquivos precisamos de um container, para isso vamos criar um.

azure storage container create MeuContainer

Para Listar os containers usamos

azure storage container list



veja que o container não tem acesso público, o que não interessa nesse caso. Existem 3 níveis, o Off que é privado para tudo, o Blob que é publico para leitura do blob, mas não vê a listagem do container, nem os metadados e o Container que vê e lista tudo. Então vamos definir o container como Container, pois os metadados nos interessam.

azure storage container set arquivos -p Container



Por fim, vamos subir um arquivo e acessar pelo navegador.

no meu caso aqui, o arquivo é uma logo minha que se chama jorge.png e está no diretório em que estou executando o comando.

azure storage blob upload ‘jorge.png’ arquivos 

 





 

Para mais informações sobre os comandos use o Help do próprio CLI, digitando azure e o comando que quer saber.

Sempre bom usar definições sólidas, por isso recomendo uma lida no artigo de conceitos do MSDN sobre Naming and Referencing Containers, Blobs, and Metadata.">
	
	

	<link type="text/plain" rel="author" href="http://www.jorgemaia.com.br/humans.txt">

	

	

	<link rel="icon" sizes="32x32" href="http://www.jorgemaia.com.br/assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="http://www.jorgemaia.com.br/assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-180x180-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-152x152-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-144x144-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-120x120-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-114x114-precomposed.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-76x76-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-72x72-precomposed.png">

	<link rel="apple-touch-icon-precomposed" href="http://www.jorgemaia.com.br/assets/img/apple-touch-icon-precomposed.png">	

	<meta name="msapplication-TileImage" content="http://www.jorgemaia.com.br/assets/img/msapplication_tileimage.png">

	<meta name="msapplication-TileColor" content="#fabb00">


	

</head>
<body id="top-of-page" class="post">
	
	<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="http://www.jorgemaia.com.br" class="icon-tree"> Jorge Maia</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Navigation</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.jorgemaia.com.br/search/">Pesquisar</a></li>

            
            
          
        

              

          
          
            
            
              <li class="divider"></li>
              <li><a href="http://www.jorgemaia.com.br/contact/">Contato</a></li>

            
            
          
        
        
      </ul>

      <ul class="left">
        

              

          
          

            
            
              <li><a href="http://www.jorgemaia.com.br/">Início</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://www.jorgemaia.com.br">PodCasts</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://www.jorgecast.com.br" target="_blank">JorgeCast</a></li>
                    

                      

                      <li><a href="http://www.crazytechguys.com.br/podcast" target="_blank">CrazyTechCast</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://www.jorgemaia.com.br">Vídeos</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://www.youtube.com/jorgemaia_jorgecast" target="_blank">Canal Jorge Maia</a></li>
                    

                      

                      <li><a href="http://www.youtube.com/crazytechguys" target="_blank">CrazyTechGuys.TV</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://www.jorgemaia.com.br">Redes Sociais</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://www.facebook.com/jorgeasmaia" target="_blank">Facebook</a></li>
                    

                      

                      <li><a href="http://www.twitter.com/jorgemaia" target="_blank">Twitter</a></li>
                    

                      

                      <li><a href="http://www.linkedin.com/in/jorgeasmaia" target="_blank">Linkedin</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a href="http://www.jorgemaia.com.br/blog/">Blog</a>

                  <ul class="dropdown">
                    

                      

                      <li><a href="http://www.jorgemaia.com.br/blog/archive/">Blog Archive</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<div id="masthead-no-image-header">
	<div class="row">
		<div class="small-12 columns">
			<a id="logo" href="http://www.jorgemaia.com.br" title="Jorge Maia – Tecnologia, IoT, Gestão de Times, Agilidade e Diversão.">
				<img src="http://www.jorgemaia.com.br/assets/img/TestaSiteJM.png" alt="Jorge Maia – Tecnologia, IoT, Gestão de Times, Agilidade e Diversão.">
			</a>
		</div><!-- /.small-12.columns -->
	</div><!-- /.row -->
</div><!-- /#masthead -->








	<div class="row t30">
	<div class="medium-8 columns medium-offset-2 end">
		<article itemscope itemtype="http://schema.org/Article">
			<header>
				

				<div itemprop="name">
					
					<h1>Arquivos no Windows Azure via CLI no MAC OSX</h1>
				</div>
			</header>


			

			<div itemprop="articleSection">
			<p>Como todos sabem eu mantenho um <a href="http://www.jorgecast.com.br" target="_blank">podcast</a> e recentemente, após algumas várias semanas sem gravar resolvi que era momento de retomar as falas. Com isso voltei a me perguntar sobre como automatizar mais o processo entre gravar, colocar a vinheta, gerar o post no site do podcast e disponibilizar aos ouvintes a boa nova. Neste insight me deparei com a mesma pergunta que outrora já havia me feito sobre qual a real necessidade de manter a minha assinatura do SoundCloud, pois tenho um site e um feed próprio!</p>

<p>Não tenho de maneira alguma a pretenção de fazer um trabalho melhor que o SoundCloud, mas, para minha necessidade ele está servindo somente como repositório de arquivos MP3. Se o negócio é só esse, por que não usar o blob storage do Windows Azure?</p>

<p>Então, depois de relutar por vários meses em manter o serviço, resolvi mudar, graças a isso, aproveitei também para retomar as escritas no Blog. (em breve colocarei todos os rascunhos no ar, preciso somente dar uma lida pois tem texto de mais de um ano).</p>

<p>Vamos ao que interessa! Para guardar arquivos no Storage do Azure e acessar/controlar via MAC OSX.</p>

<p><strong>Passo 1 - Instalar o CLI no MAC (pode ser usado no Windows e no Linux também)</strong></p>

<p>Primeiro verifique se o Node.js está instalado, se quiser usar um terminal basta digitar npm -v e ver o que acontece, se vier uma versão você tem senão você tem que fazer o <a href="https://nodejs.org/download/" target="_blank">download e instalar</a>.</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-7.50.05-PM.png"><img class="alignnone size-full wp-image-172" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-7.50.05-PM.png" alt="Screen Shot 2015-08-18 at 7.50.05 PM" width="718" height="114" /></a></p>

<p>Após a instalação sabemos Node.js e podemos prosseguir.</p>
<p style="text-align: center;"><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-7.52.02-PM.png"><img class="alignnone size-full wp-image-173" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-7.52.02-PM.png" alt="Screen Shot 2015-08-18 at 7.52.02 PM" width="628" height="447" /></a></p>
<p style="text-align: left;">Com isso partimos para instalação do Azure Command-Line Interface (Azure CLI) que vai nos dar o poder via shell de manipular sites, serviços, vms e o Storage que é nosso foco hoje. Claro que tem muito mais coisa além disso, mas vamos focar no que nos propomos.</p>
<p style="text-align: left;">Instalando o Azure CLI</p>

<pre>sudo npm install -g azure-cli</pre>
<p>Não se esqueça de elevar o comando para ser executado como administrador da máquina.</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.01.07-PM.png"><img class="alignnone size-full wp-image-175" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.01.07-PM.png" alt="Screen Shot 2015-08-18 at 8.01.07 PM" width="717" height="649" /></a></p>

<p>E agora temos Azure CLI no MAC OSX! Então vamos ao que interessa.</p>

<p>Digite azure no seu terminal e bem vindo ao mundo!</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.08.03-PM.png"><img class="alignnone size-full wp-image-176" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.08.03-PM.png" alt="Screen Shot 2015-08-18 at 8.08.03 PM" width="712" height="761" /></a></p>

<p>Agora para saber de todos os comandos você pode usar azure + comando e receberá uma ajuda específica.</p>

<p><strong>Passo 2 - Conectar no Azure pela linha de comando </strong></p>

<p>Para acessar sua conta você precisa do arquivo de publicação, para isso vamos ao invés de baixar do portal já usar o terminal e pegar o arquivo.</p>

<p>azure account download</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.16.28-PM.png"><img class="alignnone size-full wp-image-177" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.16.28-PM.png" alt="Screen Shot 2015-08-18 at 8.16.28 PM" width="713" height="160" /></a></p>

<p>Uma janela de navegador se abrirá e após você estar logado o arquivo é baixado para sua máquina.</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.15.55-PM.png"><img class="alignnone size-medium wp-image-178" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.15.55-PM-300x247.png" alt="Screen Shot 2015-08-18 at 8.15.55 PM" width="300" height="247" /></a></p>

<p>Com isso, temos o arquivo de publicação e vamos ter que importar ele para que possamos usar a conta.</p>

<p>azure account import /Caminho…</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.21.jpg"><img class="alignnone size-full wp-image-180" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.21.jpg" alt="Screen Shot 2015-08-18 at 8.21" width="713" height="169" /></a></p>

<p>Agora vamos colocar arquivos.</p>

<p>Para partirmos para os arquivos, temos que entender que no Storage do Azure não temos diretórios, para separar arquivos em grupos usaremos os containers. O que precisamos então é de uma conta de armazenamento, containers e arquivos. Lembrando que você vai acessar suas imagens por uma URI, que deverá ser mais ou menos desta forma:</p>
<p style="text-align: center;"><span style="color: #000080;"><em>"https://ContaArmazenamento.blob.core.windows.net/Container/(blob)Arquivo.extensão"</em></span></p>
<p style="text-align: center;"><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/3482.00.png"><img class="alignnone size-full wp-image-181" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/3482.00.png" alt="3482.00" width="569" height="278" /></a></p>
<p>Aproveito para lembrar que é possível criar um apontamento personalizado do seu domínio para este “link” de acesso.</p>

<p>Vamos então criar a nossa conta teste de armazenamento via comando.</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.51.25-PM.png"><img class="alignnone size-full wp-image-182" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-8.51.25-PM.png" alt="Screen Shot 2015-08-18 at 8.51.25 PM" width="734" height="268" /></a></p>

<p>A solicitação do tipo da conta se refere a redundância e é dada por Locally redundant storage, Zone-redundant storage, Geo-redundant storage, Read-access geo-redundant storage o PLRS se refere a contas Premium para máquinas virtuais onde se precisa de alto desempenho e baixa latência.</p>

<p>Agora temos conta de armazenamento, vamos então criar um container e mandar arquivos.</p>

<p>Para qualquer operação em uma conta, precisamos da chave de acesso, para isso vamos listar as chaves de acesso</p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-9.52.46-PM.png"><img class="alignnone size-full wp-image-183" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-9.52.46-PM.png" alt="Screen Shot 2015-08-18 at 9.52.46 PM" width="774" height="178" /></a></p>

<p>se suas chaves estão suscetíveis a vazamento ou tiverem por algum motivo que serem substituídas, utilize o comando<em><span style="color: #000080;"> keys renew</span></em> para isso.</p>

<p>Para facilitar nossos comandos, vamos definir uma conta e sua chave para não termos que digitar sempre, para isso vamos salvar nessa sessão com uso do <em><span style="color: #000080;">export</span></em>, e as chaves de conta e chave.</p>

<p><em><span style="color: #003366;"> export AZURE_STORAGE_ACCOUNT=jorgemaiateste
export AZURE_STORAGE_ACCESS_KEY=CHAVE</span></em></p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.08.11-PM.png"><img class="alignnone size-full wp-image-184" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.08.11-PM.png" alt="Screen Shot 2015-08-18 at 10.08.11 PM" width="774" height="143" /></a></p>

<p>Para enviar arquivos precisamos de um container, para isso vamos criar um.</p>

<p><span style="color: #000080;"><em>azure storage container create MeuContainer</em></span></p>

<p>Para Listar os containers usamos</p>

<p><em><span style="color: #000080;">azure storage container list</span></em></p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.14.12-PM.png"><img class="alignnone size-full wp-image-185" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.14.12-PM.png" alt="Screen Shot 2015-08-18 at 10.14.12 PM" width="777" height="513" /></a></p>

<p>veja que o container não tem acesso público, o que não interessa nesse caso. Existem 3 níveis, o Off que é privado para tudo, o Blob que é publico para leitura do blob, mas não vê a listagem do container, nem os metadados e o Container que vê e lista tudo. Então vamos definir o container como Container, pois os metadados nos interessam.</p>

<p><em><span style="color: #000080;">azure storage container set arquivos -p Container</span></em></p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.48.48-PM.png"><img class="alignnone size-full wp-image-187" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.48.48-PM.png" alt="Screen Shot 2015-08-18 at 10.48.48 PM" width="775" height="299" /></a></p>

<p>Por fim, vamos subir um arquivo e acessar pelo navegador.</p>

<p>no meu caso aqui, o arquivo é uma logo minha que se chama jorge.png e está no diretório em que estou executando o comando.</p>

<p><em><span style="color: #000080;">azure storage blob upload ‘jorge.png’ arquivos </span></em></p>

<p> </p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.52.48-PM.png"><img class="alignnone size-full wp-image-188" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.52.48-PM.png" alt="Screen Shot 2015-08-18 at 10.52.48 PM" width="775" height="283" /></a></p>

<p><a href="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.54.30-PM.png"><img class="alignnone size-full wp-image-190" src="http://www.jorgemaia.com.br/wp-content/uploads/2015/08/Screen-Shot-2015-08-18-at-10.54.30-PM.png" alt="Screen Shot 2015-08-18 at 10.54.30 PM" width="620" height="769" /></a></p>

<p> </p>

<p>Para mais informações sobre os comandos use o Help do próprio CLI, digitando <em><span style="color: #000080;">azure e o comando</span></em> que quer saber.</p>

<p>Sempre bom usar definições sólidas, por isso recomendo uma lida no <a href="https://msdn.microsoft.com/en-us/library/dd135715.aspx" target="_blank">artigo de conceitos do MSDN sobre Naming and Referencing Containers, Blobs, and Metadata</a>.</p>

			</div>

			
						<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					
					<span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="http://www.jorgemaia.com.br/" target="_blank"> Jorge Maia</a></span>
				</span>
				

				
				<time class="icon-calendar pr20" datetime="2015-08-19" itemprop="datePublished"> 2015-08-19</time>
				

				<span class="icon-archive pr20"> .NET · AZURE · BLOB · CLOUD · MAC OS · TERMINAL</span>
				<br />
				<span class="pr20"></span>
			</p>

			<div id="post-nav" class="row">
				
				<div class="small-5 columns"><a class="button small radius prev" href="http://www.jorgemaia.com.br/05-06-2015/s1e77-microsoft-ignite-chicago-episodio-1.html">&laquo; S1E77 – Microsoft Ignite Chicago, Episódio 1</a></div><!-- /.small-4.columns -->
				
				<div class="small-2 columns text-center"><a class="radius button small" href="http://www.jorgemaia.com.br/blog/archive/" title="Blog Arquivo">Arquivo</a></div><!-- /.small-4.columns -->
				
				<div class="small-5 columns text-right"><a class="button small radius next" href="http://www.jorgemaia.com.br/09-07-2015/qcon-rio-2015-que-experiencia.html">QCon Rio 2015 - Que experiência! &raquo;</a></div><!-- /.small-4.columns -->
				
			</div>
			</div><!--  /.page-meta -->
			

			
						
				<h3 id="comments" class="t60">Coment&aacut;rios &amp; Discussão</h3>
			    <div id="disqus_thread"></div>
			    <script type="text/javascript">
			        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
			        var disqus_shortname = 'jorgemaia'; 
			        var disqus_identifier = '/08-19-2015/arquivos-no-windows-azure-via-cli-no-mac-osx.html';

			        /* * * DON'T EDIT BELOW THIS LINE * * */
			        (function() {
			            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			        })();
			    </script>
			    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			



			
		</article>
	</div><!-- /.medium-8.columns -->


	


	
</div><!-- /.row -->


	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">Sobre este Site</h5>

            <p class="shadow-black">
              Neste site, muito sobre novas tecnologias, como fazer as coisas, IoT, eventos no Brasil e no Mundo, Agilidade, Podcasts....
              <a href="http://www.jorgemaia.com.br/info/">ver mais ›</a>
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            

              <ul class="no-bullet shadow-black">
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Outros Sites</h5>
              
            
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href="http://www.jorgemaia.com.br"  title=""></a>
                </li>
            
              
                <li class="network-entypo" >
                  <a href="http://www.iotweekend.com.br/" target="_blank"  title="Evento IoT Weekend">IoT Weekend</a>
                </li>
            
              
                <li class="services-newsletter" >
                  <a href="http://www.crazytechguys.com.br/" target="_blank"  title="Grupo CrazyTechGuys">CrazyTechGuys</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            <p>Criado por @jorgemaia, com <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> e usando o tema do <a href="http://phlow.de/">Phlow</a>, que é o <a href="http://phlow.github.io/feeling-responsive/">Feeling Responsive</a>.</p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
              <li><a href="http://github.com/jorgemaia" target="_blank" class="icon-github" title="Code..."></a></li>
            
              <li><a href="http://www.youtube.com/jorgemaia_jorgecast" target="_blank" class="icon-youtube" title="Vídeos e muito mais"></a></li>
            
              <li><a href="http://twitter.com/jorgemaia" target="_blank" class="icon-twitter" title="Twitter"></a></li>
            
              <li><a href="http://www.facebook.com/jorgeasmaia/" target="_blank" class="icon-facebook" title="Fan Page"></a></li>
            
              <li><a href="http://instagram.com/jorgeasmaia" target="_blank" class="icon-instagram" title="Pictures"></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://www.jorgemaia.com.br/assets/js/javascript.min.js"></script>







<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41029834-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');

</script>








</body>
</html>

